<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leaflet Map</title>

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
        crossorigin=""/>

    <style>
         html, body {
            height: 100%;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        /* Set the map height */
        #map {
            height: 75vh; /* 75% of the viewport height */
            width: 75vw;  /* 75% of the viewport width */
            border: 1px solid #ccc; /* Optional border for visibility */
        }
    </style>
</head>
<body>

    <!-- Leaflet JavaScript -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
        crossorigin=""></script>

     <div id="map"></div>
        
     <script>
            // Initialize the map centered on the USA
            var map = L.map('map').setView([37.8, -96], 4);

            // Add a base layer (OpenStreetMap)
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                maxZoom: 19
            }).addTo(map);
        
             // Fetch the GeoJSON data from counties.geojson
            fetch('counties.geojson')
                    .then(response => response.json())
                    .then(data => {
                        // Create a GeoJSON layer and add it to the map
                        L.geoJSON(data, {
                            style: function (feature) {
                                return {
                                    fillColor: '#ff7800',
                                    weight: 2,
                                    opacity: 1,
                                    color: 'gray',
                                    dashArray: '3',
                                    fillOpacity: 0.7
                                };
                            },
                            onEachFeature: function (feature, layer) {
                                // Attach a popup with county information
                                if (feature.properties && feature.properties.NAME) {
                                    layer.bindPopup("County: " + feature.properties.NAME + "<br>GEOID: " + feature.properties.GEOID);
                                }
                            }
                        }).addTo(map);
                    })
                    .catch(err => console.error('Error loading GeoJSON data:', err));
    </script>
</body>
</html>
